<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"      
    xmlns:h="http://java.sun.com/jsf/html">
	
	<ui:param name="sectionIdentifier" value="#{empty __page__.defaultSection.identifier ? '' : __page__.defaultSection.identifier}"/>
	
	<p:dataTable
   		id="dataTable" value="#{__page__.activities}" var="activity" emptyMessage="Aucune activité trouvée"
   		lazy="true" rows="20" paginator="true" rowsPerPageTemplate="20,50,100" paginatorAlwaysVisible="false"
		paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"					
		currentPageReportTemplate="{totalRecords} trouvées. Page {currentPage}/{totalPages}"
		widgetVar="activitiesDataTable" rowIndexVar="rowIndex" filterDelay="2000"
    	>
    			
   		<f:facet name="header">
      		<p:toolbar>        					   			
    			<f:facet name="right">
    				<p:commandButton icon="fa fa-file-excel-o" value="Exporter en Excel" ajax="false">
    					<p:dataExporter type="xls" target="dataTable" fileName="activite_section_#{sectionIdentifier}" />
    					<f:param name="showName" value="true" />
    					<f:param name="export" value="true" />
    				</p:commandButton>
    				<p:commandButton icon="fa fa-file-pdf-o" value="Exporter en Pdf" ajax="false">
    					<p:dataExporter type="pdf" target="dataTable" fileName="activite_section_#{sectionIdentifier}" />
    					<f:param name="export" value="true" />
    				</p:commandButton>
    			</f:facet>   			
    		</p:toolbar>
  		</f:facet>
  			
 		<ui:include src="__dataTableColumns__.xhtml">
 			<ui:param name="dataTableWidgetVar" value="activitiesDataTable"/>
 		</ui:include>
   	</p:dataTable>
  	
</ui:composition>