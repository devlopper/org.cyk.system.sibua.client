<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"      
    xmlns:h="http://java.sun.com/jsf/html">
	
	<ui:include src="__dataTableColumnToggler__.xhtml"/>
	
	<p:column headerText="Section" filterBy="#{administrativeUnit.section}" rendered="#{__page__.defaultSection == null}" >
 		<f:facet name="filter">
 			<ui:decorate template="/input/select/one/autoComplete.xhtml">
    			<ui:param name="autoComplete" value="#{sectionAutoComplete}"/>
    		</ui:decorate>	  
		</f:facet>
		<ui:include src="../outputText_code_name.xhtml">
			<ui:param name="code" value="#{administrativeUnit.section.code}"/>
			<ui:param name="name" value="#{administrativeUnit.section.name}"/>
			<ui:param name="nameRendered" value="false"/>
		</ui:include>
 	</p:column>
	
 	<p:column headerText="Unité administrative" filterBy="#{administrativeUnit.administrativeUnit}" width="60%">
 		<!--
 		<f:facet name="filter">
 			<p:inputText placeholder="Rechercher..." onchange="PF('administrativeUnitsDataTable').filter();"/>
 		</f:facet>
 		-->
 		<ui:include src="../outputText_code_name.xhtml">
			<ui:param name="code" value="#{administrativeUnit.code}"/>
			<ui:param name="name" value="#{administrativeUnit.name}"/>
		</ui:include>
 	</p:column>
 	
 	<p:column width="70" exportable="false">
 		<f:facet name="header">
 			<h:outputText id="na" value="N.A." title="Nombre d'activité(s)"/>
 			<!--
 			<p:tooltip for="na" value="Nombre d'activité(s)"/>
 			-->
 		</f:facet>
 		<h:outputText id="nav" value="#{administrativeUnit.numberOfActivities} | #{administrativeUnit.numberOfActivitiesBeneficiaire}"/>
 		<p:tooltip for="nav" value="Gestionnaire de #{administrativeUnit.numberOfActivities} | Bénéficiaire de #{administrativeUnit.numberOfActivitiesBeneficiaire}"/>
 	</p:column>
 	
 	<p:column headerText="Groupe de service" filterBy="#{administrativeUnit.serviceGroup}">
 		<f:facet name="filter">
 			<ui:decorate template="/input/select/one/autoComplete.xhtml">
    			<ui:param name="autoComplete" value="#{serviceGroupAutoComplete}"/>
    		</ui:decorate>	  
		</f:facet>
		<ui:include src="../outputText_code_name.xhtml">
			<ui:param name="code" value="#{administrativeUnit.serviceGroup.code}"/>
			<ui:param name="name" value="#{administrativeUnit.serviceGroup.name}"/>
		</ui:include>
 	</p:column> 	
 	
 	<p:column headerText="CFAP" filterBy="#{administrativeUnit.functionalClassification}" visible="false">
 		<f:facet name="filter">
 			<ui:decorate template="/input/select/one/autoComplete.xhtml">
    			<ui:param name="autoComplete" value="#{functionalClassificationAutoComplete}"/>
    		</ui:decorate>
		</f:facet>
		<ui:include src="../outputText_code_name.xhtml">
			<ui:param name="code" value="#{administrativeUnit.functionalClassification.code}"/>
			<ui:param name="name" value="#{administrativeUnit.functionalClassification.name}"/>
		</ui:include>
 	</p:column>
 	
 	<p:column headerText="Localisation" filterBy="#{administrativeUnit.localisation}" visible="false">
 		<f:facet name="filter">
 			<ui:decorate template="/input/select/one/autoComplete.xhtml">
    			<ui:param name="autoComplete" value="#{localisationAutoComplete}"/>
    		</ui:decorate>
		</f:facet>
		<ui:include src="../outputText_code_name.xhtml">
			<ui:param name="code" value="#{administrativeUnit.localisation.code}"/>
			<ui:param name="name" value="#{administrativeUnit.localisation.name}"/>
		</ui:include>
 	</p:column>

 	<ui:include src="__dataTableColumnActions__.xhtml"/>
  	
  	<ui:include src="__dataTableRowExpansion__.xhtml"/>
  	
</ui:composition>